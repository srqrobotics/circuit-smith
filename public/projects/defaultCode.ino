[
  "#include <DHT.h>",
  "#include <Servo.h>",
  "",
  "// Define pin numbers",
  "#define DHTPIN 2         // DHT22 Data Pin connected to Digital Pin 2",
  "#define SERVO_PIN 9      // Servo control pin connected to Digital Pin 9",
  "",
  "// Initialize DHT sensor",
  "#define DHTTYPE DHT22   // Define the type of DHT sensor",
  "DHT dht(DHTPIN, DHTTYPE);",
  "",
  "// Create a servo object",
  "Servo waterServo;",
  "",
  "// Threshold for soil moisture (in percentage)",
  "const float HUMIDITY_THRESHOLD = 40.0;",
  "",
  "void setup() {",
  "  Serial.begin(9600);      // Start Serial communication at 9600 baud rate",
  "  dht.begin();             // Initialize DHT sensor",
  "  waterServo.attach(SERVO_PIN); // Attach the servo to the control pin",
  "  waterServo.write(0);     // Set servo to initial position (valve closed)",
  "}",
  "",
  "void loop() {",
  "  // Read humidity",
  "  float humidity = dht.readHumidity(); // Read humidity in percentage",
  "  float temperature = dht.readTemperature(); // Read temperature in Celsius",
  "  ",
  "  // Check if any reads failed and exit early (to try again).",
  "  if (isnan(humidity) || isnan(temperature)) {",
  "    Serial.println(\"Failed to read from DHT sensor!\");",
  "    return;",
  "  }",
  "",
  "  // Print the values to the Serial monitor",
  "  Serial.print(\"Humidity: \");",
  "  Serial.print(humidity);",
  "  Serial.print(\" %\\t\");",
  "  Serial.print(\"Temperature: \");",
  "  Serial.print(temperature);",
  "  Serial.println(\" *C\");",
  "",
  "  // Check if humidity is below the threshold",
  "  if (humidity < HUMIDITY_THRESHOLD) {",
  "    Serial.println(\"Soil is too dry. Activating water valve...\");",
  "    waterServo.write(90); // Open valve (adjust angle as necessary)",
  "    delay(5000);           // Keep valve open for 5 seconds",
  "    waterServo.write(0);  // Close valve",
  "    Serial.println(\"Watering complete.\");",
  "  }",
  "  ",
  "  delay(20000); // Wait for 20 seconds before the next reading",
  "}"
]